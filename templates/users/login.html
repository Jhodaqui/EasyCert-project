{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="d-flex justify-content-center align-items-center vh-100 bg-light">
  <div class="card shadow-lg border-0 rounded-4 p-4" style="max-width: 400px; width: 100%;">
    
    <!-- Logo -->
    <div class="text-center mb-3">
      <img src="{% static 'img/sena-logo.png' %}" alt="Logo EasyCert" class="img-fluid" style="max-height: 80px;">
    </div>

    <h4 class="text-center fw-bold mb-4">INICIA SESIÓN</h4>

    <!-- Error general -->
    {% if field_errors.general %}
    <div class="alert alert-danger d-flex align-items-center" role="alert">
      <i class="fas fa-exclamation-circle me-2"></i>
      <div>{{ field_errors.general }}</div>
    </div>
    {% endif %}

    <!-- Formulario -->
    <form method="post">
      {% csrf_token %}

      <!-- Email -->
      <div class="mb-3 position-relative">
        <input type="email" class="form-control ps-5" id="id_email" name="email"
               placeholder="Correo electrónico" value="{{ form.email.value|default:'' }}" required>
        <i class="fas fa-envelope position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
        {% if form.email.errors %}
          <div class="text-danger small mt-1">{{ form.email.errors }}</div>
        {% endif %}
      </div>

      <!-- Password -->
      <div class="mb-3 position-relative">
        <input type="password" class="form-control ps-5" id="id_password" name="password"
               placeholder="Contraseña" value="{{ form.password.value|default:'' }}" required>
        <i class="fas fa-lock position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
        {% if form.password.errors %}
          <div class="text-danger small mt-1">{{ form.password.errors }}</div>
        {% endif %}
      </div>

      <!-- Botón -->
      <div class="d-grid mb-3">
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-sign-in-alt me-2"></i>Ingresar
        </button>
      </div>
    </form>

    <!-- Links -->
    <div class="text-center">
      <a href="{% url 'register' %}" class="text-decoration-none me-2">
        <i class="fas fa-user-plus me-1"></i>Registrarse
      </a>
      <span class="text-muted">|</span>
      <a href="{% url 'password_reset' %}" class="text-decoration-none ms-2">
        <i class="fas fa-key me-1"></i>¿Olvidaste tu contraseña?
      </a>
    </div>

  </div>
</div>

{% endblock %}

{% comment %} {% extends "base.html" %}
{% block content %}
 
<h2>Iniciar sesión</h2>
<form method="post">
  {% csrf_token %}
 
  <p>{{ form.email.label_tag }} {{ form.email }} {{ form.email.errors }}</p>
  <p>{{ form.password.label_tag }} {{ form.password }} {{ form.password.errors }}</p>
  <button type="submit">Ingresar</button>
</form>
<p>
  <a href="{% url 'register' %}">Registrarse</a> |
  <a href="{% url 'resend_activation' %}">Reenviar activación</a> |
  <a href="{% url 'password_reset' %}">¿Olvidaste tu contraseña?</a>
</p>
{% endblock %} {% endcomment %}
